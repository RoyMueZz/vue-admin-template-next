{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/login/index.vue?98b3","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/views/login/index.vue","webpack:///./src/icons/svg-icons.ts","webpack:///./src/views/login/index.vue?a33f","webpack:///./src/views/login/index.vue?fc77","webpack:///./src/assets/login/login_logo.png","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","call","RegExp","String","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","class","alt","src","logoImages","loginManner","stretch","handleClick","label","name","ref","model","ruleForm","status-icon","rules","prop","userName","prefix-icon","type","autocomplete","password","show-password","handleLogin","phone","code","style","checked","loading","loginResponse","icon-class","svgIcons","req","requireAll","requireContext","keys","re","forEach","i","match","alipay","wechat","qq","emits","setup","ruleFormInstance","userNameInstance","passwordInstance","required","message","trigger","redirect","otherQuery","route","getOtherQuery","query","Object","acc","cur","validate","valid","console","log","focus","resetFields","path","v","deep","render","__scopeId","module","exports","aFunction","toObject","IndexedObject","createMethod","IS_RIGHT","that","argumentsLength","memo","self","index","TypeError","right"],"mappings":"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","file":"js/chunk-562fe7c6.dbac51eb.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=29a0c8ee&lang=scss&scoped=true\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-content\">\r\n      <div class=\"login-top\">\r\n        <div class=\"login-header\">\r\n          <img alt=\"logo\" :src=\"logoImages\" class=\"login-logo\" />\r\n          <span class=\"login-title\">Vue Antd Admin</span>\r\n        </div>\r\n        <div class=\"login-desc\">Ant Design 是西湖区最具影响力的 Web 设计规范</div>\r\n      </div>\r\n      <div class=\"login-form\">\r\n        <el-tabs v-model=\"loginManner\" stretch @tab-click=\"handleClick\">\r\n          <el-tab-pane label=\"账号密码登录\" name=\"normal\">\r\n            <el-form\r\n              v-if=\"loginManner==='normal'\"\r\n              ref=\"ruleFormInstance\"\r\n              :model=\"ruleForm\"\r\n              status-icon\r\n              :rules=\"rules\"\r\n            >\r\n              <el-form-item prop=\"userName\">\r\n                <el-input\r\n                  ref=\"userNameInstance\"\r\n                  v-model=\"ruleForm.userName\"\r\n                  prefix-icon=\"el-icon-user-solid\"\r\n                  type=\"text\"\r\n                  autocomplete=\"off\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item prop=\"password\">\r\n                <el-input\r\n                  ref=\"passwordInstance\"\r\n                  v-model=\"ruleForm.password\"\r\n                  type=\"password\"\r\n                  show-password\r\n                  autocomplete=\"off\"\r\n                  prefix-icon=\"el-icon-lock\"\r\n                  @keyup.enter=\"handleLogin('ruleForm')\"\r\n                />\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"手机号登录\" name=\"phone\">\r\n            <el-form\r\n              v-if=\"loginManner==='phone'\"\r\n              ref=\"ruleFormInstance\"\r\n              :model=\"ruleForm\"\r\n              status-icon\r\n              :rules=\"rules\"\r\n            >\r\n              <el-form-item prop=\"phone\">\r\n                <el-input\r\n                  v-model.number=\"ruleForm.phone\"\r\n                  prefix-icon=\"el-icon-mobile-phone\"\r\n                  type=\"text\"\r\n                  autocomplete=\"off\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item prop=\"code\">\r\n                <el-input\r\n                  v-model=\"ruleForm.code\"\r\n                  type=\"text\"\r\n                  autocomplete=\"off\"\r\n                  prefix-icon=\"el-icon-message\"\r\n                  style=\"width:68%\"\r\n                />\r\n                <el-button style=\"float: right;\">获取验证码</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n        <div>\r\n          <el-checkbox v-model=\"checked\">自动登录</el-checkbox>\r\n          <el-link type=\"primary\" style=\"float: right;\">忘记密码</el-link>\r\n        </div>\r\n        <div class=\"login-btn\">\r\n          <el-button\r\n            type=\"primary\"\r\n            :loading=\"loginResponse\"\r\n            style=\"width: 100%; margin-top: 21px;\"\r\n            @click=\"handleLogin('ruleForm')\"\r\n          >登录</el-button>\r\n        </div>\r\n        <div>\r\n          <span class=\"login-text\">其他登录方式</span>\r\n          <svg-icon class=\"login-icon\" :icon-class=\"svgIcons['alipay']\" />\r\n          <svg-icon class=\"login-icon\" :icon-class=\"svgIcons['wechat']\" />\r\n          <svg-icon class=\"login-icon\" :icon-class=\"svgIcons['qq']\" />\r\n          <el-link type=\"primary\" style=\"float: right;\">注册账户</el-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang='ts'>\r\nimport { defineComponent, reactive, ref, watch, onMounted, nextTick } from 'vue'\r\nimport { useRoute, _RouteLocationBase } from 'vue-router'\r\nimport { ElForm, ElInput } from 'element-plus'\r\nimport svgIcons from '@/icons/svg-icons'\r\nconst { alipay, wechat, qq } = svgIcons\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nconst logoImages = require('@/assets/login/login_logo.png')\r\n\r\nexport default defineComponent({\r\n  name: 'Login',\r\n  emits: ['keyup'],\r\n  setup() {\r\n    const ruleFormInstance = ref<InstanceType<typeof ElForm>>(null)\r\n    const userNameInstance = ref<InstanceType<typeof ElInput>>(null)\r\n    const passwordInstance = ref<InstanceType<typeof ElInput>>(null)\r\n    const ruleForm = reactive({ userName: '', password: '', phone: '', code: '' })\r\n    const rules = reactive({\r\n      userName: [\r\n        { required: true, message: '请输入账号', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' }\r\n      ],\r\n      phone: [\r\n        { required: true, message: '请输入手机号码', trigger: 'blur' },\r\n        { type: 'number', message: '号码必须为数字值' }\r\n      ]\r\n    })\r\n    const svgIcons = reactive({ alipay, wechat, qq })\r\n    const loginManner = ref<string>('normal')\r\n    const loginResponse = ref<boolean>(false)\r\n    const checked = ref<boolean>(true)\r\n    const redirect = ref< string |string[]>(undefined)\r\n    const otherQuery = ref<object>({})\r\n\r\n    const route = useRoute()\r\n    // const router = useRouter()\r\n    // const store = useStore()\r\n\r\n    const getOtherQuery = (query: Record<string, string|string[]>) => {\r\n      return Object.keys(query).reduce((acc: Record<string, string|string[]>, cur) => {\r\n        if (cur !== 'redirect') {\r\n          acc[cur] = query[cur]\r\n        }\r\n        return acc\r\n      }, {})\r\n    }\r\n\r\n    const handleLogin = () => {\r\n      ruleFormInstance.value.validate((valid) => {\r\n        if (valid) {\r\n          loginResponse.value = true\r\n          // store.dispatch('user/login', ruleForm)\r\n          //   .then(() => {\r\n          //     router.push({ path: redirect.value || '/', query: otherQuery.value } as Record<string, string|string[]>)\r\n          //     loginResponse.value = false\r\n          //   })\r\n          //   .catch(() => {\r\n          //     loginResponse.value = false\r\n          //   })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n\r\n    onMounted(() => {\r\n      if (ruleForm.userName === '') {\r\n        userNameInstance.value.focus()\r\n      } else if (ruleForm.password === '') {\r\n        passwordInstance.value.focus()\r\n      }\r\n    })\r\n\r\n    const handleClick = () => {\r\n      nextTick(() => {\r\n        ruleFormInstance.value.resetFields()\r\n      })\r\n    }\r\n\r\n\r\n\r\n    watch(() => (route as any).path, (v: _RouteLocationBase) => {\r\n      const query = v.query\r\n      if (query) {\r\n        redirect.value = query.redirect\r\n        otherQuery.value = getOtherQuery(query)\r\n      }\r\n    }, { deep: true })\r\n\r\n\r\n    return {\r\n      ruleForm,\r\n      handleLogin,\r\n      ruleFormInstance,\r\n      userNameInstance,\r\n      passwordInstance,\r\n      handleClick,\r\n      loginManner,\r\n      loginResponse,\r\n      checked,\r\n      logoImages,\r\n      rules,\r\n      svgIcons\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/element-variables.scss\";\r\n$bg: #f0f2f5;\r\n\r\n.login-container {\r\n  min-height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: auto;\r\n  background-color: $bg;\r\n  background-image: url(\"/img/login/login_bg.svg\");\r\n  background-repeat: no-repeat;\r\n  background-position-x: center;\r\n  background-position-y: 110px;\r\n  background-size: 100%;\r\n\r\n  .login-content {\r\n    padding: 32px 0;\r\n    flex: 1;\r\n    .login-top {\r\n      text-align: center;\r\n      .login-header {\r\n        height: 44px;\r\n        line-height: 44px;\r\n        .login-logo {\r\n          height: 44px;\r\n          vertical-align: top;\r\n          margin-right: 16px;\r\n        }\r\n        .login-title {\r\n          font-size: 33px;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          font-family: Myriad Pro, Helvetica Neue, Arial, Helvetica, sans-serif;\r\n          font-weight: 600;\r\n          position: relative;\r\n          top: 2px;\r\n        }\r\n      }\r\n      .login-desc {\r\n        font-size: 14px;\r\n        color: rgba(0, 0, 0, 0.45);\r\n        margin-top: 12px;\r\n        margin-bottom: 40px;\r\n      }\r\n    }\r\n\r\n    .login-form {\r\n      width: 368px;\r\n      margin: 0 auto;\r\n      .login-btn {\r\n        margin-bottom: 24px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .login-text {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .login-icon {\r\n    margin-left: 16px;\r\n    vertical-align: middle;\r\n    font-size: 24px;\r\n    color: rgba(0,0,0,.45);\r\n    cursor: pointer;\r\n    transition: color 0.3s;\r\n    &:hover {\r\n      color: $--color-primary !important;\r\n    }\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    .login-content {\r\n      padding: 112px 0 24px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import camelCase from 'xe-utils/camelCase'\r\n\r\nconst req = require.context('./svg', false, /\\.svg$/)\r\nconst requireAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys()\r\n\r\nconst re = /\\.\\/(.*)\\.svg/\r\n\r\ninterface SvgIcons {\r\n  [key: string]: string;\r\n}\r\nconst svgIcons: SvgIcons = {}\r\n\r\n\r\nrequireAll(req).forEach(i => {\r\n  svgIcons[camelCase(i.match(re)[1])] = i.match(re)[1]\r\n})\r\n\r\n\r\nexport default svgIcons\r\n","\r\nimport { defineComponent, reactive, ref, watch, onMounted, nextTick } from 'vue'\r\nimport { useRoute, _RouteLocationBase } from 'vue-router'\r\nimport { ElForm, ElInput } from 'element-plus'\r\nimport svgIcons from '@/icons/svg-icons'\r\nconst { alipay, wechat, qq } = svgIcons\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\nconst logoImages = require('@/assets/login/login_logo.png')\r\n\r\nexport default defineComponent({\r\n  name: 'Login',\r\n  emits: ['keyup'],\r\n  setup() {\r\n    const ruleFormInstance = ref<InstanceType<typeof ElForm>>(null)\r\n    const userNameInstance = ref<InstanceType<typeof ElInput>>(null)\r\n    const passwordInstance = ref<InstanceType<typeof ElInput>>(null)\r\n    const ruleForm = reactive({ userName: '', password: '', phone: '', code: '' })\r\n    const rules = reactive({\r\n      userName: [\r\n        { required: true, message: '请输入账号', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' }\r\n      ],\r\n      phone: [\r\n        { required: true, message: '请输入手机号码', trigger: 'blur' },\r\n        { type: 'number', message: '号码必须为数字值' }\r\n      ]\r\n    })\r\n    const svgIcons = reactive({ alipay, wechat, qq })\r\n    const loginManner = ref<string>('normal')\r\n    const loginResponse = ref<boolean>(false)\r\n    const checked = ref<boolean>(true)\r\n    const redirect = ref< string |string[]>(undefined)\r\n    const otherQuery = ref<object>({})\r\n\r\n    const route = useRoute()\r\n    // const router = useRouter()\r\n    // const store = useStore()\r\n\r\n    const getOtherQuery = (query: Record<string, string|string[]>) => {\r\n      return Object.keys(query).reduce((acc: Record<string, string|string[]>, cur) => {\r\n        if (cur !== 'redirect') {\r\n          acc[cur] = query[cur]\r\n        }\r\n        return acc\r\n      }, {})\r\n    }\r\n\r\n    const handleLogin = () => {\r\n      ruleFormInstance.value.validate((valid) => {\r\n        if (valid) {\r\n          loginResponse.value = true\r\n          // store.dispatch('user/login', ruleForm)\r\n          //   .then(() => {\r\n          //     router.push({ path: redirect.value || '/', query: otherQuery.value } as Record<string, string|string[]>)\r\n          //     loginResponse.value = false\r\n          //   })\r\n          //   .catch(() => {\r\n          //     loginResponse.value = false\r\n          //   })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n\r\n    onMounted(() => {\r\n      if (ruleForm.userName === '') {\r\n        userNameInstance.value.focus()\r\n      } else if (ruleForm.password === '') {\r\n        passwordInstance.value.focus()\r\n      }\r\n    })\r\n\r\n    const handleClick = () => {\r\n      nextTick(() => {\r\n        ruleFormInstance.value.resetFields()\r\n      })\r\n    }\r\n\r\n\r\n\r\n    watch(() => (route as any).path, (v: _RouteLocationBase) => {\r\n      const query = v.query\r\n      if (query) {\r\n        redirect.value = query.redirect\r\n        otherQuery.value = getOtherQuery(query)\r\n      }\r\n    }, { deep: true })\r\n\r\n\r\n    return {\r\n      ruleForm,\r\n      handleLogin,\r\n      ruleFormInstance,\r\n      userNameInstance,\r\n      passwordInstance,\r\n      handleClick,\r\n      loginManner,\r\n      loginResponse,\r\n      checked,\r\n      logoImages,\r\n      rules,\r\n      svgIcons\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./index.vue?vue&type=template&id=29a0c8ee&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=29a0c8ee&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-29a0c8ee\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/login_logo.9652507e.png\";","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}